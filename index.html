
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen-0a7c4629.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-c427a123.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-c5541673.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#stp" class="toc-h1 toc-link" data-title="STP">STP</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-a-clabe-account-physical-accounts" class="toc-h2 toc-link" data-title="Create a CLABE account (Physical accounts)">Create a CLABE account (Physical accounts)</a>
                  </li>
                  <li>
                    <a href="#webhook-of-clabe-status" class="toc-h2 toc-link" data-title="Webhook of CLABE status">Webhook of CLABE status</a>
                  </li>
                  <li>
                    <a href="#webhook-of-spei-in" class="toc-h2 toc-link" data-title="Webhook of SPEI IN">Webhook of SPEI IN</a>
                  </li>
                  <li>
                    <a href="#spei-out" class="toc-h2 toc-link" data-title="SPEI OUT">SPEI OUT</a>
                  </li>
                  <li>
                    <a href="#webhook-of-spei-out" class="toc-h2 toc-link" data-title="Webhook of SPEI OUT">Webhook of SPEI OUT</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#credencial" class="toc-h1 toc-link" data-title="Credencial">Credencial</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#assign-card" class="toc-h2 toc-link" data-title="Assign Card">Assign Card</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errores" class="toc-h1 toc-link" data-title="Errores">Errores</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <!-- # Introducción


# Autenticación

En la autentificación se utilizan mensajes en clave-hash (HMAC) es una construcción específica para calcular un código de autentificación de mensaje, esto que implica una función hash criptográfica en combinación con una llave criptográfica secreta. Como cualquier MAC, puede ser utilizado para verificar simultáneamente la integridad de los datos y la autentificación de un mensaje. Se utiliza la función hash criptográfica SHA-512. La función hash rompe un mensaje en un bloque de un tamaño fijo e itera sobre ellos con una función de compresión. La fuerza criptográfica del HMAC depende de la potencia criptográfica de la función de hash subyacente, el tamaño de su salida de hash y el tamaño y calidad de la llave.

> Para autorizar utiliza este codigo:

```javascript
function getPath(url) {
    var pathRegex = /.+?\:\/\/.+?(\/.+?)(?:#|\?|$)/;
    var result = url.match(pathRegex);
    return result && result.length > 1 ? result[1] : ''; 
}

function getQueryString(url) {
    var arrSplit = url.split('?');
    return arrSplit.length > 1 ? url.substring(url.indexOf('?')+1) : ''; 
}

var _requestData;

function getAuthHeader(httpMethod, requestUrl, _requestBody) {
    var CLIENT_KEY = 'CLIENT_KEY';
    var hash = 'SECRET_KEY';
    var SECRET_KEY = CryptoJS.enc.Hex.stringify(CryptoJS.SHA512(hash));
    var AUTH_TYPE = 'Ictineo';
    var requestBody = '';
    var requestPath = getPath(requestUrl);
    var queryString = getQueryString(requestUrl);
    if (httpMethod == 'GET' || !_requestBody) {
        requestBody = ''; 
    } else {
        requestBody = JSON.stringify(JSON.parse(_requestBody) );
    }
        
    var timestamp = new Date().getTime(); 
    var requestData = [timestamp,httpMethod, requestPath, queryString, requestBody].join("");
    requestData = requestData.trim();
    _requestData = requestData;        
    var hmacDigest = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(requestData, SECRET_KEY));
    var authHeader = AUTH_TYPE + ' ' + CLIENT_KEY + ':'+ timestamp + ":"  + hmacDigest;
    return authHeader;
}

postman.setEnvironmentVariable('hmacAuthHeader', getAuthHeader(request['method'], request['url'], request['data']));
postman.setEnvironmentVariable('hmac_d',_requestData);
``` -->

<!-- 
// > Make sure to replace `meowmeowmeow` with your API key.

// Kittn uses API keys to allow access to the API. You can register a new Kittn API key at our [developer portal](http://example.com/developers).

// Kittn expects for the API key to be included in all API requests to the server in a header that looks like the following:

// `Authorization: meowmeowmeow`

// <aside class="notice">
// You must replace <code>meowmeowmeow</code> with your personal API key.
// </aside>  -->
<h1 id='stp'>STP</h1><h2 id='create-a-clabe-account-physical-accounts'>Create a CLABE account (Physical accounts)</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl http://stp.ictineoptf.com/v1/stp/clabes <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"accept: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">enterprise_id</span><span class="o">=</span><span class="s2">"6c4a-ye2y-23h2-y38g"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">account_id</span><span class="o">=</span><span class="s2">"232313223"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">name</span><span class="o">=</span><span class="s2">"Enrique"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">last_name</span><span class="o">=</span><span class="s2">"Martinez"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">second_lastname</span><span class="o">=</span><span class="s2">"Gomez"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">birth_date</span><span class="o">=</span><span class="s2">"19860228"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">gender</span><span class="o">=</span><span class="s2">"H"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">rfc_or_curp</span><span class="o">=</span><span class="s2">"MAGL860228TF3"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">federal_entity</span><span class="o">=</span><span class="s2">"1"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">economy_activity</span><span class="o">=</span><span class="s2">"30"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">personal_id</span><span class="o">=</span><span class="s2">"3313476042"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">street</span><span class="o">=</span><span class="s2">"Polanco"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">outdoor_number</span><span class="o">=</span><span class="s2">"254"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">interior_number</span><span class="o">=</span><span class="s2">"1"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">suburb</span><span class="o">=</span><span class="s2">"Lomas de chapultepec"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">municipality</span><span class="o">=</span><span class="s2">"Miguel Hidalgo"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">zip_code</span><span class="o">=</span><span class="s2">"01100"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">country_of_birth</span><span class="o">=</span><span class="s2">"1"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">email</span><span class="o">=</span><span class="s2">"enrique@medici-satoshi.com"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">phone</span><span class="o">=</span><span class="s2">"5513673221"</span>
</code></pre></div>
<blockquote>
<p>RESPONSE</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-02-03T19:53:04.055+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bad Request"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/stp/clabes"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint is used to create CLABE account(Physical accounts).</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://stp.ictineoptf.com/v1/stp/clabes</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>enterprise_id</td>
<td>Y</td>
<td>String</td>
<td>Identifier of the company to which the CLABE account</td>
<td>6c4a-ye2y-23h2-y38g</td>
</tr>
<tr>
<td>account_id</td>
<td>Y</td>
<td>String</td>
<td>Account number identifier</td>
<td>232313223</td>
</tr>
<tr>
<td>name</td>
<td>Y</td>
<td>String</td>
<td>Full name of the physical person</td>
<td>Enrique</td>
</tr>
<tr>
<td>last_name</td>
<td>Y</td>
<td>String</td>
<td>Paternal surname of the physical person</td>
<td>Martinez</td>
</tr>
<tr>
<td>second_lastname</td>
<td>C</td>
<td>String</td>
<td>Maternal surname of the physical person</td>
<td>Gomez</td>
</tr>
<tr>
<td>birth_date</td>
<td>Y</td>
<td>String</td>
<td>Birthdate</td>
<td>19860228</td>
</tr>
<tr>
<td>gender</td>
<td>N</td>
<td>String</td>
<td>Gender type of the physical person. Values: Male -&gt; H, Female -&gt; M</td>
<td>H</td>
</tr>
<tr>
<td>rfc_or_curp</td>
<td>Y</td>
<td>String</td>
<td>The RFC or CURP of the physical person</td>
<td>MAGL860228TF3</td>
</tr>
<tr>
<td>federal_entity</td>
<td>Y</td>
<td>String</td>
<td>Federal entity identifier. Federative Entities Catalog</td>
<td>1</td>
</tr>
<tr>
<td>economy_activity</td>
<td>Y</td>
<td>String</td>
<td>Economic activity. Catalog of Economic Activities</td>
<td>30</td>
</tr>
<tr>
<td>personal_id</td>
<td>N</td>
<td>String</td>
<td>Identification(INE / IFE), Identity card(CI), Citizenship card(CC)</td>
<td>3313476042</td>
</tr>
<tr>
<td>street</td>
<td>N</td>
<td>String</td>
<td>Street of the address of the physical person</td>
<td>Polanco</td>
</tr>
<tr>
<td>outdoor_number</td>
<td>N</td>
<td>String</td>
<td>External number of the address of the physical person</td>
<td>254</td>
</tr>
<tr>
<td>interior_number</td>
<td>N</td>
<td>String</td>
<td>Internal number of the address of the physical person</td>
<td>1</td>
</tr>
<tr>
<td>suburb</td>
<td>N</td>
<td>String</td>
<td>Suburb of the address of the physical person</td>
<td>Lomas de chapultepec</td>
</tr>
<tr>
<td>municipality</td>
<td>N</td>
<td>String</td>
<td>Municipality of the address of the physical person</td>
<td>Miguel Hidalgo</td>
</tr>
<tr>
<td>zip_code</td>
<td>N</td>
<td>String</td>
<td>Postal Code of the address of the natural person</td>
<td>01100</td>
</tr>
<tr>
<td>country_of_birth</td>
<td>Y</td>
<td>String</td>
<td>Country of birth. Country of birth catalog</td>
<td>187</td>
</tr>
<tr>
<td>email</td>
<td>N</td>
<td>String</td>
<td>Email of the physical person</td>
<td>enrique@medici-satoshi.com</td>
</tr>
<tr>
<td>phone</td>
<td>N</td>
<td>String</td>
<td>Phone number of the physical person</td>
<td>5513673221</td>
</tr>
</tbody></table>
<h2 id='webhook-of-clabe-status'>Webhook of CLABE status</h2>
<blockquote>
<p>The webhook endpoint object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"clabe"</span><span class="p">:</span><span class="w"> </span><span class="s2">"646180123300000408"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint is used for STP to notify the status of the account, You should implement an endpoint like this.</p>
<h3 id='attributes'>Attributes</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>clabe</td>
<td>String</td>
<td>CLABE account number assigned</td>
<td>646420123300000000</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>The status type of the CLABE account. Values: Active -&gt; 1, Inactive -&gt; 0</td>
<td>1</td>
</tr>
</tbody></table>
<h2 id='webhook-of-spei-in'>Webhook of SPEI IN</h2>
<blockquote>
<p>The webhook endpoint object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"clabe"</span><span class="p">:</span><span class="w"> </span><span class="s2">"646180123300000408"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MBAN000000212"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.50"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint is used for STP to notify a SPEI IN, You should implement an endpoint like this.</p>
<h3 id='attributes-2'>Attributes</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>clabe</td>
<td>String</td>
<td>The CLABE account of beneficiary</td>
<td>646420123300000000</td>
</tr>
<tr>
<td>reference</td>
<td>Tracking key associated with the payment order. It must be unique</td>
<td>MBAN000000212</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>Amount of the payment order</td>
<td>MBAN000000212</td>
<td></td>
</tr>
</tbody></table>
<h2 id='spei-out'>SPEI OUT</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl http://stp.ictineoptf.com/v1/stp/clabes <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"accept: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">payer_account</span><span class="o">=</span><span class="s2">"646420123300000000"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">beneficiary_name</span><span class="o">=</span><span class="s2">"LUIS TRUTIE RODRIGUEZ"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">beneficiary_account</span><span class="o">=</span><span class="s2">"012180029588856995"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">beneficiary_account_type</span><span class="o">=</span><span class="s2">"40"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">counterpart_institution</span><span class="o">=</span><span class="s2">"40012"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">beneficiary_rfc_curp</span><span class="o">=</span><span class="s2">"ND"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">amount</span><span class="o">=</span>5.04 <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">payment_concept</span><span class="o">=</span><span class="s2">"Envio de SPEI"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">numeric_reference</span><span class="o">=</span><span class="s2">"12345"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">tracking_key</span><span class="o">=</span><span class="s2">"ICTINEO000000001"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">enterprise</span><span class="o">=</span><span class="s2">"ICTINEO"</span> <span class="se">\</span>
</code></pre></div>
<blockquote>
<p>RESPONSE</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-02-03T19:53:04.055+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bad Request"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/stp/clabes"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint is used to register an order to SPEI OUT</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://stp.ictineoptf.com/v1/stp/transfer</code></p>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>payer_account</td>
<td>Y</td>
<td>String</td>
<td>The payer account</td>
<td>646420123300000000</td>
</tr>
<tr>
<td>beneficiary_name</td>
<td>Y</td>
<td>String</td>
<td>The name of the beneficiary of the payment order</td>
<td>LUIS TRUTIE RODRIGUEZ</td>
</tr>
<tr>
<td>beneficiary_account</td>
<td>Y</td>
<td>String</td>
<td>The beneficiary account</td>
<td>012180029588856995</td>
</tr>
<tr>
<td>beneficiary_account_type</td>
<td>Y</td>
<td>String</td>
<td>The key of the beneficiary account type. Catalog Type Account</td>
<td>40</td>
</tr>
<tr>
<td>counterpart_institution</td>
<td>Y</td>
<td>String</td>
<td>The key of the institution to which the payment is directed. Catalog of Institutions</td>
<td>40012</td>
</tr>
<tr>
<td>beneficiary_rfc_curp</td>
<td>Y</td>
<td>String</td>
<td>The RFC or CURP of the beneficiary</td>
<td>ND</td>
</tr>
<tr>
<td>amount</td>
<td>Y</td>
<td>String</td>
<td>The maximum amount per money order transfer order is: 999999999999.99</td>
<td>5.04</td>
</tr>
<tr>
<td>payment_concept</td>
<td>Y</td>
<td>String</td>
<td>The reason for the payment to the beneficiary customer</td>
<td>Envio de SPEI</td>
</tr>
<tr>
<td>numeric_reference</td>
<td>Y</td>
<td>String</td>
<td>A numerical reference associated with the payment</td>
<td>12345</td>
</tr>
<tr>
<td>tracking_key</td>
<td>Y</td>
<td>String</td>
<td>Tracking key associated with the payment order. It must be unique per operation</td>
<td>ICTINEO000000001</td>
</tr>
<tr>
<td>enterprise</td>
<td>Y</td>
<td>String</td>
<td>Company Name</td>
<td>ICTINEO</td>
</tr>
</tbody></table>
<h2 id='webhook-of-spei-out'>Webhook of SPEI OUT</h2>
<blockquote>
<p>The webhook endpoint object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8610843</span><span class="p">,</span><span class="w">
  </span><span class="nl">"folio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ICTINEO000000001"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cause"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Liquidación"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint is used for STP to notify the status of an order for SPEI OUT, You should implement an endpoint like this.</p>
<h3 id='attributes-3'>Attributes</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>clabe</td>
<td>String</td>
<td>The CLABE account of beneficiary</td>
<td>646420123300000000</td>
</tr>
<tr>
<td>reference</td>
<td>Tracking key associated with the payment order. It must be unique</td>
<td>MBAN000000212</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>Amount of the payment order</td>
<td>MBAN000000212</td>
<td></td>
</tr>
</tbody></table>
<h1 id='credencial'>Credencial</h1><h2 id='assign-card'>Assign Card</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl http://credencial.ictineoptf.com/v1/credencial/nomination/:card_number <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"accept: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">account_number</span><span class="o">=</span>53234334 <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">account_id</span><span class="o">=</span>13332233 <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">card_name</span><span class="o">=</span><span class="s2">"Oswaldo Lopez"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">full_name</span><span class="o">=</span><span class="s2">"Oswaldo Lopez Garcia"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">birth_date</span><span class="o">=</span><span class="s2">"1986-10-10"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">gender</span><span class="o">=</span><span class="s2">"M"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">civil_status</span><span class="o">=</span><span class="s2">"S"</span>
  <span class="nt">-d</span> <span class="nv">email</span><span class="o">=</span><span class="s2">"persona@dominio.com"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">phone</span><span class="o">=</span>5511456745 <span class="se">\ </span> 
  <span class="nt">-d</span> <span class="s2">"address[type]"</span><span class="o">=</span><span class="s2">"casa"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"address[street]"</span><span class="o">=</span><span class="s2">""</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"address[number]"</span><span class="o">=</span><span class="s2">"24"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"address[country]"</span><span class="o">=</span>32 <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"address[state]"</span><span class="o">=</span><span class="s2">""</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"address[suburb]"</span><span class="o">=</span><span class="s2">""</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"address[zip_code]"</span><span class="o">=</span><span class="s2">""</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"document[type]"</span><span class="o">=</span><span class="s2">"DNI"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"document[number]"</span><span class="o">=</span><span class="s2">"32145698777"</span> <span class="se">\ </span> 
</code></pre></div>
<blockquote>
<p>RESPONSE</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint is used to assign card to account.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST http://credencial.ictineoptf.com/v1/credencial/nomination/:card_number</code></p>
<h3 id='parameters-3'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>account_number</td>
<td>Y</td>
<td>String</td>
<td>Account number</td>
<td>53234334</td>
</tr>
<tr>
<td>account_id</td>
<td>Y</td>
<td>String</td>
<td>Account number identifier</td>
<td>13332233</td>
</tr>
<tr>
<td>card_name</td>
<td>Y</td>
<td>String</td>
<td>Usually name of cardholder. It&#39;s the name printed on the plastic.</td>
<td>Oswaldo Lopez</td>
</tr>
<tr>
<td>full_name</td>
<td>Y</td>
<td>String</td>
<td>Name of cardholder</td>
<td>Oswaldo Lopez Garcia</td>
</tr>
<tr>
<td>birth_date</td>
<td>Y</td>
<td>String</td>
<td>Cardholder date of birth</td>
<td>1986-10-10</td>
</tr>
<tr>
<td>gender</td>
<td>Y</td>
<td>String</td>
<td>Cardholder gender</td>
<td>M</td>
</tr>
<tr>
<td>civil_status</td>
<td>Y</td>
<td>String</td>
<td>Cardholder civil status</td>
<td>S</td>
</tr>
<tr>
<td>email</td>
<td>Y</td>
<td>String</td>
<td>Email address</td>
<td>persona@dominio.com</td>
</tr>
<tr>
<td>phone</td>
<td>Y</td>
<td>String</td>
<td>Phone number</td>
<td>5511456745</td>
</tr>
<tr>
<td>address[type]</td>
<td>Y</td>
<td>String</td>
<td>Cardholder type of address</td>
<td>casa</td>
</tr>
<tr>
<td>address[street]</td>
<td>Y</td>
<td>String</td>
<td>Cardholder street of address</td>
<td>3313476042</td>
</tr>
<tr>
<td>address[number]</td>
<td>Y</td>
<td>String</td>
<td>Cardholder number of address</td>
<td>24</td>
</tr>
<tr>
<td>address[country]</td>
<td>Y</td>
<td>String</td>
<td>Cardholder country of address. ISO code</td>
<td>32</td>
</tr>
<tr>
<td>address[state]</td>
<td>Y</td>
<td>String</td>
<td>Cardholder state of address</td>
<td></td>
</tr>
<tr>
<td>address[suburb]</td>
<td>Y</td>
<td>String</td>
<td>Cardholder suburb of address</td>
<td>Lomas de chapultepec</td>
</tr>
<tr>
<td>address[zip_code]</td>
<td>Y</td>
<td>String</td>
<td>Cardholder postal code of address</td>
<td>01100</td>
</tr>
<tr>
<td>document[type]</td>
<td>Y</td>
<td>String</td>
<td>Phone number of the physical person</td>
<td>DNI</td>
</tr>
<tr>
<td>document[number]</td>
<td>Y</td>
<td>String</td>
<td>Phone number of the physical person</td>
<td>32145698777</td>
</tr>
</tbody></table>

<!-- # Cuentas

## Creación de cuenta

```shell
curl "https://dev.ictineo.com/accounts"
  -H "Authorization: token"
```

> El comando anterior devuelve un JSON estructurado como:

```json
{
    "status": "success",
    "message": "Consulta Exitosa",
    "internalCode": "000",
    "data": [
        {
            "numcte": "0001001131",
            "cuenta": "10000006764",
            "cuentaclabe": "646180123310006764",
            "respcode": "000",
            "resptext": "Alta de cuenta exitosa"
        }
    ]
}
```

Endpoint para creación de una cuenta de captación

### HTTP Request

`POST https://dev.ictineo.com/accounts`

### Envío de parametros

Parametro | Requerido | Descripción
--------- | ------- | -----------
client_number | si | Numero de cliente al que se le creara la cuenta
product_id | si | Id del producto de cuenta que se le asignara 

## Consulta de saldo

```shell
curl "https://dev.ictineo.com/accounts/10000006764/balance"
  -H "Authorization: token"
```

> El comando anterior devuelve un JSON estructurado como:

```json
{
    "status": "success",
    "message": "Consulta Exitosa",
    "internalCode": "000",
    "data": [
        {
            "vcod_ret": "000",
            "vcuenta": "10000006764",
            "vnum_cte": "0001001131",
            "vapell_pat": "TEJEDA",
            "vapell_mat": "GONZALEZ",
            "vnombre1": "CARO",
            "vnombre2": "DOLO",
            "vrazon_soc": "",
            "vedo_cta": "0",
            "vsdo_disp": 0,
            "vsdo_ret": 0,
            "vsdo_ccc": 0,
            "vsdo_disp_ccc": 0,
            "vsdo_cta": 0,
            "vtipo_linea": "0",
            "vdescrip1": "1000 CUENTA EJE",
            "vdescrip2": "01 Peso Mexicano",
            "vsdo_t1": 0,
            "vsdo_cong": 0,
            "vimp_chq_sbc": 0,
            "vusubloq": "",
            "vfecbloq": "",
            "vnum_tarjeta": "",
            "vcta_clabe": "646180123310006764"
        }
    ]
}
```

Endpoint para consultar el saldo de una cuenta en especifico

### HTTP Request

`GET https://dev.ictineo.com/accounts/<account>/balance`

### Envío de parametros

Parametro | Requerido | Descripción
--------- | ------- | -----------
account | si | Numero de cuenta

## Consulta de transacciones

```shell
curl "https://dev.ictineo.com/accounts/10000006764/transactions?dateIni=05/01/2020&dateEnd=05/30/2020"
  -H "Authorization: token"
```

> El comando anterior devuelve un JSON estructurado como:

```json
{
    "status": "success",
    "message": "Consulta Exitosa",
    "internalCode": "000",
    "data": []
}
```

Endpoint para consultar las transacciones de una cuenta en especifico

### HTTP Request

`GET https://dev.ictineo.com/accounts/<account>/transactions?dateIni=<dateIni>&dateEnd=<dateEnd>`

### Envío de parametros

Parametro | Requerido | Descripción
--------- | ------- | -----------
account | si | Numero de cuenta
dateIni | no | Fecha de inicio para filtro de transacciones
dateEnd | no | Fecha de fin para inicio de transacciones -->

<!-- # Tarjetas

## Asignación de tarjeta

```shell
curl "https://dev.ictineo.com/card/active"
  -H "Authorization: token"
```

> El comando anterior devuelve un JSON estructurado como:

```json
{
    "status": "success",
    "message": "Consulta Exitosa",
    "internalCode": "000",
    "data": [
        {
            "(expression 1)": "000",
            "(expression 2)": "5064600000000462"
        }
    ]
}
```

Endpoint para asignación de tarjeta de debito a una cuenta en especifico

### HTTP Request

`POST https://dev.ictineo.com/card/active`

### Envío de parametros

Parametro | Requerido | Descripción
--------- | ------- | -----------
account | si | Numero de cuenta a la que se le asignara la cuenta.
product_id | si | Id del producto de cuenta que tiene asignado.
product_card_id | si | Id del producto de tarjeta que se le asignara.
card_number | no | Se le puede enviar el numero de tarjeta a asignar o si se envia vacio se asigna una tarjeta del stock.

## Cambio de estatus

```shell
curl "https://dev.ictineo.com/card/status"
  -H "Authorization: token"
```

> El comando anterior devuelve un JSON estructurado como:

```json
{
    "status": "success",
    "message": "Consulta Exitosa",
    "internalCode": "000",
    "data": [
        {
            "(expression 1)": "000"
        }
    ]
}
```

Endpoint para cambio de estatus de una tarjeta en especifico

### HTTP Request

`POST https://dev.ictineo.com/card/status`

### Envío de parametros

Parametro | Requerido | Descripción
--------- | ------- | -----------
card_number | si | Numero de tarjeta a la que se le cambiara el estatus.
status | si | Tipos de estatus - A := Activa, I := Inactiva, E := Extravio, B := Bloqueada, F := Bloqueo Fraude, D := Dañada, P := Preventivo Fraude, C := Cancelada, X := Bloqueada por el cliente, R := Robo.
comment | no | Comentario sobre el cambio de estatus


# Transferencias

## Generar transferencia

```shell
curl "https://dev.ictineo.com/transfers"
  -H "Authorization: token"
```

> El comando anterior devuelve un JSON estructurado como:

```json
{
    "status": "success",
    "message": "Consulta Exitosa",
    "internalCode": "000",
    "data": [
        {
            "ocodret": "000",
            "omensaje": "PROCESO SATISFACTORIO",
            "oimporte": 5,
            "ofolio": "BCAELECT124514"
        }
    ]
}
```

Endpoint para realizar transferencias a cuentas propias, cuentas de terceros y cuentas a otros bancos.

### HTTP Request

`POST https://dev.ictineo.com/transfers`

### Envío de parametros

Parametro | Requerido | Descripción
--------- | ------- | -----------
type | si | Tipo de transferencia - thirdy := Transferencia a cuentas de terceros, accounts := Transferencia a cuentas propias, spei := Transferencia a otros bancos 
client_number | si | Numero de cliente que realizara la transferencia
account_origin | si | Numero de cuenta origen
account_destination | si | Numero de cuenta destino
amount | si | Monto que se enviara
reference | si | Referencia de identificación de transferencia
date | si | Fecha MM-DD-YYYY
concept | si | Concepto de la transferencia -->

<!-- # Catalogos

## General

```shell
curl "https://dev.ictineo.com/catalog/4"
  -H "Authorization: token"
```

> El comando anterior devuelve un JSON estructurado como:

```json
{
    "status": "success",
    "message": "Consulta Exitosa",
    "internalCode": "000",
    "data": [
        {
            "codret": 0,
            "sqlerr": 0,
            "catalogo": "bdinteg:si_edocivil",
            "codigo_descripcion": "S",
            "descripcion": "SOLTERO(A)"
        },
        {
            "codret": 0,
            "sqlerr": 0,
            "catalogo": "bdinteg:si_edocivil",
            "codigo_descripcion": "C",
            "descripcion": "CASADO(A)"
        },
        {
            "codret": 0,
            "sqlerr": 0,
            "catalogo": "bdinteg:si_edocivil",
            "codigo_descripcion": "D",
            "descripcion": "DIVORCIADO(A)"
        },
        {
            "codret": 0,
            "sqlerr": 0,
            "catalogo": "bdinteg:si_edocivil",
            "codigo_descripcion": "V",
            "descripcion": "VIUDO(A)"
        },
        {
            "codret": 0,
            "sqlerr": 0,
            "catalogo": "bdinteg:si_edocivil",
            "codigo_descripcion": "U",
            "descripcion": "UNION LIBRE"
        }
    ]
}
```

Endpoint para consultar los distintos catalogos para llenado de datos en creación de cliente

### HTTP Request

`POST https://dev.ictineo.com/catalog/<ID>`

### Envío de parametros

Parametro | Requerido | Descripción
--------- | ------- | -----------
id | si | Id del catalogo que se consultara -->
<h1 id='errores'>Errores</h1>
<aside class="notice">
Ictineo uses conventional HTTP response codes to indicate the success or failure of an API request. In general: Codes in the 2xx range indicate success. Codes in the 4xx range indicate an error that failed given the information provided (e.g., a required parameter was omitted, a charge failed, etc.). Codes in the 5xx range indicate an error with Ictineo servers (these are rare).
</aside>

<p>HTTP STATUS CODE SUMMARY</p>

<table><thead>
<tr>
<th>Codigo de error</th>
<th>Significado</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - The resource you are trying to access cannot be found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - A conflict occurred on the server while processing your request</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error - A serious error occurred on the server, please try again later</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
